{"mappings":"YAKA,IAAmBA,IAKT,IAJeC,SAASC,cAAc,kBAC/BC,MAAMC,MAAQ,GAA0BC,OAAH,GAApBC,KAAKC,MAAMP,GAAY,KACrDQ,QAAQC,IAAI,GAA0BJ,OAAH,GAApBC,KAAKC,MAAMP,GAAY,K","sources":["src/js/rating.js"],"sourcesContent":["// основна функція\n\n// ratingActive = document.querySelector('.rating_active');\n// ratingActive.style.width = '50%';\n\nfunction addReting(value) {\n    const ratingActive = document.querySelector('.rating_active');\n    ratingActive.style.width = `${Math.round(value) * 10}%`;\n    console.log(`${Math.round(value) * 10}%`);\n}\naddReting(2.3)\n\nexport {addReting};\n\n\n// const ratings = document.querySelectorAll('.rating');\n// if (ratings.length > 0) {\n//     initRatings();\n// }\n\n// function initRatings() {\n\n//     let ratingActive, ratingValue;\n\n//     let ratingActive, ratingValue;   \n\n//     for (let index = 0; index < ratings.length; index++){\n//         const rating = ratings[index];\n//         initRating(rating);\n//     }\n\n//     function initRating(rating){\n//         initRatingVars(rating);\n\n//         setRatingActiveWidth();\n//         if (rating.classList.contains('.rating_set')) {\n//             setRating(rating);}\n//         }\n\n//     // ініціалізація змінних\n//     function initRatingVars(rating) {\n//         ratingActive = rating.querySelector('.rating_active');\n//         ratingValue = rating.querySelector('.rating_value');}\n//     // змінюємо ширину активних зірок\n//     function setRatingActiveWidth(index = ratingValue.innerHTML) {\n//         const ratingActiveWidth = index / 0.05;\n//         ratingActive.style.width = `${ratingActiveWidth}%`}\n\n\n    // мщжливість вказувати оцінку\n    // function setRating(rating) {\n    //     const ratingItems = rating.querySelectorAll('.rating_item');\n    //         for (let index = 0; index < ratingItems.length; index++){\n    //     const ratingItem = ratingItems[index];\n    //     ratingItem.addEventListener(\"mouseenter\", function (e) {\n    //         initRatingVars(rating);\n    //         setRatingActiveWidth(ratingItem.value);\n    //     });\n    //     ratingItem.addEventListener(\"mouseleave\", function (e) {\n    //         // оновлення активних зірок\n    //         setRatingActiveWidth();\n    //     });\n    //     ratingItem.addEventListener(\"click\", function (e) {\n    //         // оновлення змінних\n    //         initRatingVars(rating);\n\n    //         if (rating.dataset.ajax){\n    //             // відправити на сервер\n    //             setRatingValue(ratingItem.value, rating);\n    //         } else {\n    //             // відобразити вказану оцінку\n    //             ratingValue.innerHTML = index + 1;\n    //             setRatingActiveWidth();\n    //         }\n    //     });\n\n    // }}\n// }\n\nconst API_KEY = '1e886de40b098591f9b7dbcf56dc1fe5';\nconst URL = 'https://api.themoviedb.org/3/movie/{movie_id}/rating';\n\n// async function setRatingValue(value, rating) {\n//     if (!rating.classList.contains('rating_sending')) {\n//         rating.classList.add('rating_sending');\n//         let response = await fetch('rating.json', {\n            \n//             function getMovieRating(movieId) {\n//                 const requestUrl = URL.replace('{movie_id}', movieId);\n//                 const fullUrl = `${requestUrl}?api_key=${API_KEY}`;\n              \n//                 fetch(fullUrl, {\n//                   method: 'GET'\n//                 })\n//                   .then(response => response.json())\n//                   .then(data => {\n//                     const rating = data.rating; // Припустимо, що рейтинг доступний в полі \"rating\" отриманих даних\n//                     console.log(`Рейтинг фільму: ${rating}`);\n//                     // Тут ви можете вивести рейтинг на екран або виконати інші дії з ним\n//                   })\n//                   .catch(error => {\n//                     console.error('Сталася помилка при отриманні рейтингу фільму:', error);\n//                   });\n//               }          \n//         });\n\n//         if (response.ok) {\n//             const result = await response.json();\n//         }\n//     }\n// }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":["value","document","querySelector","style","width","concat","Math","round","console","log"],"version":3,"file":"library.b797ff96.js.map"}