function e(e){return e&&e.__esModule?e.default:e}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},s={},t=a.parcelRequired7c6;null==t&&((t=function(e){if(e in i)return i[e].exports;if(e in s){var a=s[e];delete s[e];var t={id:e,exports:{}};return i[e]=t,a.call(t.exports,t,t.exports),t.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,a){s[e]=a},a.parcelRequired7c6=t);var n=t("7Y9D8");const r=document.querySelector(".movies-gallery"),o=(document.querySelector(".search-more"),document.querySelector(".load")),l=document.querySelector(".empty-gallery"),d=document.querySelector(".dropdown-library"),c=(document.querySelectorAll(".dropdown-item-library"),document.querySelector(".dropdown-menu-library")),m=document.querySelector(".modal-backdrop");document.querySelector(".film-card-close-btn");m.addEventListener("click",u);const v=[];function u(){const a=JSON.parse(localStorage.getItem("favoriteMovies"));if(!a||0===a.length)return r.innerHTML="",l.classList.remove("hide"),l.classList.add("show"),o.classList.remove("show"),o.classList.add("hide"),d.classList.remove("show"),void d.classList.add("hide");const i=a.map((e=>fetch(`https://api.themoviedb.org/3/movie/${e.id}?api_key=14b16a10583a3d9315723a356100e4ad`).then((e=>e.json()))));Promise.all(i).then((e=>{v.push(...e),r.innerHTML="";const a=h(e);r.insertAdjacentHTML("beforeend",a),l.classList.add("hide"),l.classList.remove("show"),o.classList.add("show"),o.classList.remove("hide"),d.classList.add("show"),d.classList.remove("hide")})).catch((a=>{e(n).Notify.warning("OOPS... SOMETHING WENT WRONG")}))}o.classList.add("hide"),l.classList.add("show"),d.classList.add("hide");const h=e=>e.map((e=>{const{poster_path:a,original_title:i,release_date:s,popularity:t,id:n,vote_average:r}=e,o=e.genres.map((e=>e.name)).slice(0,2).join(", ");e.poster_path;let l=`https://image.tmdb.org/t/p/w500${a}`;null===a&&(l="https://marketplace.canva.com/EAE9OZ4Eh9o/1/0/1131w/canva-black-minimalist-coming-soon-poster-rmN33IHdOEM.jpg");let d=r;return`\n\n        <li class="movie-item">\n            <div class="movie" data-catalog-item id=${n}>\n                <img class="movie-img" src=${l}>\n\n\n                <div class="movie-info">\n                    <div class="info">\n                        <h2 class="movie-title">${i}</h2>\n                        <div class="genre_year">\n                            <h2 class="movie-genre">${o}</h2>\n                            <h2 class="movie-year">${e.release_date.slice(0,4)}</h2></div>\n                        </div>\n                    <div>\n                        <span class="movie-rating"></span>\n                    </div>\n                </div>\n            </div>\n            <div class="form_item form_item_library">\n            <div class="form_lebel"> </div>\n            <div data-ajax="true" class="rating rating_weekly  rating_set rating-hero">\n              <div class="rating_body">\n                <div class="rating_active ${n}" style="width: ${10*Math.round(d)}%;"></div>\n                <div class="rating_items">\n                  <input type="radio" aria-label="1 stars" class="rating_item" value="1" name="rating">\n                  <input type="radio" aria-label="2 stars" class="rating_item" value="2" name="rating">\n                  <input type="radio" aria-label="3 stars" class="rating_item" value="3" name="rating">\n                  <input type="radio" aria-label="4 stars" class="rating_item" value="4" name="rating">\n                  <input type="radio" aria-label="5 stars" class="rating_item" value="5" name="rating">\n                </div>\n              </div>\n            </div>\n          </div>\n        </li>`})).join("");window.onload=u,c.addEventListener("click",(e=>{const a=e.target.dataset.filter,i=v.filter((e=>e.genres.map((e=>e.name.toLowerCase())).includes(a.toLowerCase())));if("all"===a.toLowerCase()){r.innerHTML="";const e=h(v);r.insertAdjacentHTML("beforeend",e),o.classList.add("show"),o.classList.remove("hide")}else if(i.length>0){r.innerHTML="";const e=h(i);r.insertAdjacentHTML("beforeend",e),o.classList.add("show"),o.classList.remove("hide")}else r.innerHTML=`<h1 class="np_chosen">Sorry but there are no ${a} movies in your Library...</h1>`,o.classList.add("hide"),o.classList.remove("show")}));
//# sourceMappingURL=library.f2562e52.js.map
