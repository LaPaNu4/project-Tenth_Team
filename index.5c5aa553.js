!function(){function n(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},r={},o=t.parcelRequired7c6;null==o&&((o=function(n){if(n in e)return e[n].exports;if(n in r){var t=r[n];delete r[n];var o={id:n,exports:{}};return e[n]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(n,t){r[n]=t},t.parcelRequired7c6=o);var i=o("bpxeT"),c=o("2TvXO"),a=o("dIxxU");o("1WSnx");var s="https://api.themoviedb.org/3/movie/upcoming",l="0b7ed72c0b07bc683ffc3b8a0e430792",u="https://api.themoviedb.org/3/genre/movie/list",p=document.querySelector(".upcoming-film"),d="favoriteMovies";function m(){return f.apply(this,arguments)}function f(){return(f=n(i)(n(c).mark((function t(){var e,r;return n(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.default.get("".concat(s,"?api_key=").concat(l));case 2:return e=n.sent,r=e.data.results,n.abrupt("return",r);case 5:case"end":return n.stop()}}),t)})))).apply(this,arguments)}function g(n){return _.apply(this,arguments)}function _(){return(_=n(i)(n(c).mark((function t(e){var r,o,i;return n(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.default.get("".concat(u,"?api_key=").concat(l));case 2:return r=n.sent,o=r.data.genres,i=e.map((function(n){return o.find((function(t){return t.id===n})).name})),n.abrupt("return",i.join(", "));case 6:case"end":return n.stop()}}),t)})))).apply(this,arguments)}function v(){return(v=n(i)(n(c).mark((function t(){var e,r,o,i,a,s;return n(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m();case 3:if(0!==(e=n.sent).length){n.next=7;break}return x(),n.abrupt("return");case 7:return r=Math.floor(Math.random()*e.length),o=e[r],i=o.id,n.next=12,h(o);case 12:b(n.sent),a=document.querySelector(".upcoming_content_btn"),s=localStorage.getItem("favoriteMovies"),(JSON.parse(s)||[]).includes(i)?a.textContent="Remove from my library":a.textContent="Add to my library",a.addEventListener("click",(function(){var n=localStorage.getItem("favoriteMovies"),t=JSON.parse(n);if((t=t||[]).includes(i)){var e=t.findIndex((function(n){return n===i}));t.splice(e,1),localStorage.setItem(d,JSON.stringify(t)),a.textContent="Add to my library"}else t.push(i),localStorage.setItem(d,JSON.stringify(t)),a.textContent="Remove from my library"})),n.next=25;break;case 22:n.prev=22,n.t0=n.catch(0),console.log(n.t0);case 25:case"end":return n.stop()}}),t,null,[[0,22]])})))).apply(this,arguments)}function h(n){return y.apply(this,arguments)}function y(){return(y=n(i)(n(c).mark((function t(e){var r,o,i,a,s,l,u,p,d;return n(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.backdrop_path,o=e.genre_ids,i=e.title,a=e.overview,s=e.vote_average,l=e.vote_count,u=e.release_date,p=e.popularity,n.next=3,g(o);case 3:return d=n.sent,n.abrupt("return",'\n    <img\n      class="upcoming_img"\n      src="https://image.tmdb.org/t/p/original'.concat(r,'"\n      alt="Poster ').concat(i,'"\n    />\n\n    <div class="upcoming_content">\n      <h3 class="upcoming_name">').concat(i,'</h3>\n\n      <div class="upcoming_thumb">\n        <ul class="upcoming-list left">\n          <li class="upcoming_list_item">\n            <p class="upcoming_list_text color-h">Release date</p>\n            <p class="upcoming_list_date color-p">').concat(u,'</p>\n          </li>\n          <li class="upcoming_list_item">\n            <p class="upcoming_list_text color-h">Vote / Votes</p>\n            <p class="upcoming_list_vote">\n              <span class="vote">').concat(s,'</span> / <span class="vote">').concat(l,'</span>\n            </p>\n          </li>\n        </ul>\n\n        <ul class="upcoming-list right">\n          <li class="upcoming_list_item">\n            <p class="upcoming_list_text color-h">Popularity</p>\n            <p class="upcoming_list_pop">').concat(p.toFixed(1),'</p>\n          </li>\n          <li class="upcoming_list_item">\n            <p class="upcoming_list_text color-h">Genre</p>\n            <p class="upcoming_list_genre">').concat(d,'</p>\n          </li>\n        </ul>\n      </div>\n\n      <h3 class="upcoming_content_title color-h">About</h3>\n      <p class="upcoming_content_text">').concat(a,'</p>\n\n      <button type="button" class="upcoming_content_btn" id="addLibrary">\n         Add to my library\n      </button>\n    </div>\n  '));case 5:case"end":return n.stop()}}),t)})))).apply(this,arguments)}function b(n){p.innerHTML=n}function x(){p.innerHTML='<div class="upcoming-error-container">\n    <p class="upcoming_error_container_text">\n    OOPS...<br />\n    We are very sorry!<br />\n    But we couldn\'t find any upcoming movies this month.\n    </p>\n  </div>'}!function(){v.apply(this,arguments)}()}();
//# sourceMappingURL=index.5c5aa553.js.map
