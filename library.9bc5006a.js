!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},i={},s=n.parcelRequired7c6;null==s&&((s=function(e){if(e in o)return o[e].exports;if(e in i){var n=i[e];delete i[e];var s={id:e,exports:{}};return o[e]=s,n.call(s.exports,s,s.exports),s.exports}var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}).register=function(e,n){i[e]=n},n.parcelRequired7c6=s);var t=s("8nrFW"),r=document.querySelector(".movies-gallery"),a=(document.querySelector(".search-more"),document.querySelector(".load")),c=document.querySelector(".empty-gallery"),d=document.querySelector(".dropdown-library"),l=(document.querySelectorAll(".dropdown-item-library"),document.querySelector(".dropdown-menu-library")),u=document.querySelector(".modal-backdrop");document.querySelector(".film-card-close-btn");u.addEventListener("click",v);var m=[];function v(){var n=JSON.parse(localStorage.getItem("favoriteMovies"));if(!n||0===n.length)return console.log("відкрився if"),r.innerHTML="",c.classList.remove("hide"),c.classList.add("show"),a.classList.remove("show"),a.classList.add("hide"),d.classList.remove("show"),void d.classList.add("hide");var o=n.map((function(e){return fetch("".concat("https://api.themoviedb.org/3/movie/").concat(e.id,"?api_key=").concat("14b16a10583a3d9315723a356100e4ad")).then((function(e){return e.json()}))}));Promise.all(o).then((function(n){var o;(o=m).push.apply(o,e(t)(n)),r.innerHTML="";var i=h(n);r.insertAdjacentHTML("beforeend",i),c.classList.add("hide"),c.classList.remove("show"),a.classList.add("show"),a.classList.remove("hide"),d.classList.add("show"),d.classList.remove("hide")})).catch((function(e){console.log(e)}))}a.classList.add("hide"),c.classList.add("show"),d.classList.add("hide");var h=function(e){return e.map((function(e){var n=e.poster_path,o=e.original_title,i=(e.release_date,e.popularity,e.id),s=e.genres.map((function(e){return e.name})).slice(0,2).join(", "),t=e.release_date.slice(0,4),r="https://image.tmdb.org/t/p/w500".concat(n);return void 0!==n&&""!==n||(r="./images/hero-img/coming-soon.jpg"),'\n\n        <li class="movie-item">\n            <div class="movie" data-catalog-item id='.concat(i,'>\n                <img class="movie-img" src=').concat(r,'>\n\n\n                <div class="movie-info">\n                    <div class="info">\n                        <h2 class="movie-title">').concat(o,'</h2>\n                        <div class="genre_year">\n                            <h2 class="movie-genre">').concat(s,'</h2>\n                            <h2 class="movie-year">').concat(t,'</h2></div>\n                        </div>\n                    <div>\n                        <span class="movie-rating"></span>\n                    </div>\n                </div>\n            </div>\n        </li>')})).join("")};window.onload=v,l.addEventListener("click",(function(e){var n=e.target.dataset.filter,o=m.filter((function(e){return e.genres.map((function(e){return e.name.toLowerCase()})).includes(n.toLowerCase())}));if(console.log(o),"all"===n.toLowerCase()){r.innerHTML="";var i=h(m);r.insertAdjacentHTML("beforeend",i),a.classList.add("show"),a.classList.remove("hide")}else if(o.length>0){r.innerHTML="";var s=h(o);r.insertAdjacentHTML("beforeend",s),a.classList.add("show"),a.classList.remove("hide")}else r.innerHTML='<h1 class="np_chosen">Sorry but there are no '.concat(n," movies in your Library...</h1>"),a.classList.add("hide"),a.classList.remove("show")}))}();
//# sourceMappingURL=library.9bc5006a.js.map
