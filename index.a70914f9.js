!function(){function n(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},r={},i=t.parcelRequired7c6;null==i&&((i=function(n){if(n in e)return e[n].exports;if(n in r){var t=r[n];delete r[n];var i={id:n,exports:{}};return e[n]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(n,t){r[n]=t},t.parcelRequired7c6=i);var o=i("bpxeT"),a=i("2TvXO"),c=i("dIxxU");i("1WSnx");var s=i("6JpON"),u="https://api.themoviedb.org/3/movie/upcoming",l="0b7ed72c0b07bc683ffc3b8a0e430792",p="https://api.themoviedb.org/3/genre/movie/list",d=document.querySelector(".upcoming-film"),m="favoriteMovies";function f(){return g.apply(this,arguments)}function g(){return(g=n(o)(n(a).mark((function t(){var e,r;return n(a).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.default.get("".concat(u,"?api_key=").concat(l));case 2:return e=n.sent,r=e.data.results,n.abrupt("return",r);case 5:case"end":return n.stop()}}),t)})))).apply(this,arguments)}function _(n){return v.apply(this,arguments)}function v(){return(v=n(o)(n(a).mark((function t(e){var r,i,o;return n(a).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.default.get("".concat(p,"?api_key=").concat(l));case 2:return r=n.sent,i=r.data.genres,o=e.map((function(n){return i.find((function(t){return t.id===n})).name})),n.abrupt("return",o.join(", "));case 6:case"end":return n.stop()}}),t)})))).apply(this,arguments)}function h(){return(h=n(o)(n(a).mark((function t(){var e,r,i,o,c,u;return n(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f();case 3:if(0!==(e=t.sent).length){t.next=7;break}return w(),t.abrupt("return");case 7:return r=Math.floor(Math.random()*e.length),i=e[r],o=i.id.toString(),t.next=12,y(i);case 12:x(t.sent),c=document.querySelector(".upcoming_content_btn"),u=localStorage.getItem("favoriteMovies"),(JSON.parse(u)||[]).find((function(n){return n.id===o}))&&(c.textContent="Remove from my library"),c.addEventListener("click",(function(){var n=localStorage.getItem("favoriteMovies"),t=JSON.parse(n);if((t=t||[]).find((function(n){return n.id===o}))){var e=t.findIndex((function(n){return n.id===o}));t.splice(e,1),localStorage.setItem(m,JSON.stringify(t)),c.textContent="Add to my library"}else{var r={id:o,start:""};t.push(r),localStorage.setItem(m,JSON.stringify(t)),c.textContent="Remove from my library"}})),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(0),n(s).Notify.warning("OOPS... SOMETHING WENT WRONG");case 25:case"end":return t.stop()}}),t,null,[[0,22]])})))).apply(this,arguments)}function y(n){return b.apply(this,arguments)}function b(){return(b=n(o)(n(a).mark((function t(e){var r,i,o,c,s,u,l,p,d,m;return n(a).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.poster_path,i=e.backdrop_path,o=e.genre_ids,c=e.title,s=e.overview,u=e.vote_average,l=e.vote_count,p=e.release_date,d=e.popularity,n.next=3,_(o);case 3:return m=n.sent,n.abrupt("return","\n  \n\n     <picture class='upcoming_img'>\n      <source srcset=\"https://image.tmdb.org/t/p/original/".concat(i,'" media="(min-width: 768px)" loading="lazy"/>\n      <source srcset="https://image.tmdb.org/t/p/original/').concat(r,'" media="(min-width: 320px)" loading="lazy"/>\n      <img src="https://image.tmdb.org/t/p/original/').concat(r,'" alt="Movie Poster" loading="lazy"/>\n    </picture>\n\n    <div class="upcoming_content">\n      <h3 class="upcoming_name">').concat(c,'</h3>\n\n      <div class="upcoming_thumb">\n        <ul class="upcoming-list left">\n          <li class="upcoming_list_item">\n            <p class="upcoming_list_text color-h">Release date</p>\n            <p class="upcoming_list_date color-p">').concat(p,'</p>\n          </li>\n          <li class="upcoming_list_item">\n            <p class="upcoming_list_text color-h">Vote / Votes</p>\n            <p class="upcoming_list_vote">\n              <span class="vote">').concat(u,'</span> / <span class="vote">').concat(l,'</span>\n            </p>\n          </li>\n        </ul>\n\n        <ul class="upcoming-list right">\n          <li class="upcoming_list_item">\n            <p class="upcoming_list_text color-h">Popularity</p>\n            <p class="upcoming_list_pop">').concat(d.toFixed(1),'</p>\n          </li>\n          <li class="upcoming_list_item">\n            <p class="upcoming_list_text color-h">Genre</p>\n            <p class="upcoming_list_genre">').concat(m,'</p>\n          </li>\n        </ul>\n      </div>\n\n      <h3 class="upcoming_content_title color-h">About</h3>\n      <p class="upcoming_content_text">').concat(s,'</p>\n\n      <button type="button" class="upcoming_content_btn" id="addLibrary">\n         Add to my library\n      </button>\n    </div>\n  '));case 5:case"end":return n.stop()}}),t)})))).apply(this,arguments)}function x(n){d.innerHTML=n}function w(){d.innerHTML='<div class="upcoming-error-container">\n    <p class="upcoming_error_container_text">\n    OOPS...<br />\n    We are very sorry!<br />\n    But we couldn\'t find any upcoming movies this month.\n    </p>\n  </div>'}!function(){h.apply(this,arguments)}()}();
//# sourceMappingURL=index.a70914f9.js.map
